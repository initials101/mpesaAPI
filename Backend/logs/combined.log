{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-27 12:09:23"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-27 12:19:35"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-00.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 12:21:05"}
{"level":"info","message":"Server running in development mode on port 3000","service":"mpesa-api","timestamp":"2025-04-27 12:21:05"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-01.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 12:21:50"}
{"level":"info","message":"Server running in development mode on port 3000","service":"mpesa-api","timestamp":"2025-04-27 12:21:50"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-00.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 12:34:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-27 12:34:40"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:34:49"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:35:03"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 12:39:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-27 12:39:53"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 12:42:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-27 12:42:49"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:18"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:19"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:23"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:27"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-01.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 12:50:51"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-27 12:50:51"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:51:03"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-00.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 12:52:13"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-27 12:52:13"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-27 12:52:19"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 12:52:20","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 12:52:20"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 12:52:20"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 12:52:20"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 13:14:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-27 13:14:25"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-27 13:14:30"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:14:31","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:14:31"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:14:31"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:131:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:14:31"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-01.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 13:14:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-27 13:14:44"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-27 13:14:50"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:14:51","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:14:51"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:14:51"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:14:51"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-00.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-27 13:22:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-27 13:22:00"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-27 13:22:08"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:22:09","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:22:09"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:22:09"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:22:09"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-27 13:22:13"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:22:14","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:22:14"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:22:14"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:22:14"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-27 13:22:52"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:22:53","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:22:53"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:22:53"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:22:53"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 19:25:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 19:25:52"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-28 19:26:08"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-28 19:26:10","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-28 19:26:10"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-28 19:26:10"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-28 19:26:10"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-00.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 19:33:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 19:33:40"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-28 19:34:45"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-28 19:35:20"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-28 19:36:35"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-28 19:38:33"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 19:47:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 19:47:34"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-28 19:47:42"}
{"level":"error","message":"Username and password are required for Basic Auth","service":"mpesa-api","timestamp":"2025-04-28 19:47:42"}
{"level":"error","message":"Failed to authenticate with M-Pesa API","service":"mpesa-api","timestamp":"2025-04-28 19:47:42"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:161:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-28 19:47:42"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-28 19:47:43"}
{"level":"error","message":"Username and password are required for Basic Auth","service":"mpesa-api","timestamp":"2025-04-28 19:47:43"}
{"level":"error","message":"Failed to authenticate with M-Pesa API","service":"mpesa-api","timestamp":"2025-04-28 19:47:43"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:161:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-28 19:47:43"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-28 19:47:44"}
{"level":"error","message":"Username and password are required for Basic Auth","service":"mpesa-api","timestamp":"2025-04-28 19:47:44"}
{"level":"error","message":"Failed to authenticate with M-Pesa API","service":"mpesa-api","timestamp":"2025-04-28 19:47:44"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:161:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-28 19:47:44"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 19:53:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 19:53:14"}
{"accountReference":"ORDER1234","amount":100,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-28 20:08:37"}
{"level":"info","message":"Getting M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 20:08:37"}
{"level":"info","message":"Successfully obtained M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 20:08:37"}
{"amount":100,"level":"info","message":"Initiating STK Push:","phoneNumber":"254112395869","reference":"ORDER1234","service":"mpesa-api","timestamp":"2025-04-28 20:08:37"}
{"accountReference":"ORDER1234","amount":1000,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-28 20:09:32"}
{"level":"info","message":"Getting M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 20:09:32"}
{"level":"info","message":"Successfully obtained M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 20:09:33"}
{"amount":1000,"level":"info","message":"Initiating STK Push:","phoneNumber":"254112395869","reference":"ORDER1234","service":"mpesa-api","timestamp":"2025-04-28 20:09:33"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-01.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 22:20:13"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 22:20:13"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 22:22:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 22:22:52"}
{"level":"warn","message":"Expected property name or '}' in JSON at position 1 (line 1 column 2)","method":"POST","path":"/api/payments/stk-push","service":"mpesa-api","statusCode":400,"timestamp":"2025-04-28 22:24:05"}
{"level":"warn","message":"Not found - /api/payments/stk-push","method":"POST","path":"/api/payments/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:24:53"}
{"accountReference":"ORDER1234","amount":1000,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-28 22:25:23"}
{"level":"info","message":"Getting M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 22:25:23"}
{"level":"info","message":"Successfully obtained M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 22:25:24"}
{"amount":1000,"level":"info","message":"Initiating STK Push:","phoneNumber":"254112395869","reference":"ORDER1234","service":"mpesa-api","timestamp":"2025-04-28 22:25:24"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 22:27:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 22:27:26"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-00.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 22:27:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 22:27:32"}
{"level":"warn","message":"Not found - /api/payments/stk-push","method":"POST","path":"/api/payments/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:27:40"}
{"level":"warn","message":"Not found - /api/payments/stk-push","method":"POST","path":"/api/payments/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:27:43"}
{"level":"warn","message":"Not found - /api/payments/stk-push","method":"POST","path":"/api/payments/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:27:44"}
{"level":"warn","message":"Not found - /api/payments/stk-push","method":"POST","path":"/api/payments/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:27:50"}
{"level":"warn","message":"Not found - /api/payments/stk-push","method":"POST","path":"/api/payments/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:27:52"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 22:28:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 22:28:15"}
{"level":"warn","message":"Not found - /api/mpesa/stk-push","method":"POST","path":"/api/mpesa/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:28:24"}
{"level":"warn","message":"Not found - /api/mpesa/stk-push","method":"POST","path":"/api/mpesa/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:28:26"}
{"level":"warn","message":"Not found - /api/mpesa/stk-push","method":"POST","path":"/api/mpesa/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:28:26"}
{"accountReference":"ORDER1234","amount":1000,"level":"info","message":"STK Push request received","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-28 22:28:39"}
{"level":"info","message":"Getting M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 22:28:39"}
{"level":"info","message":"Successfully obtained M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 22:28:39"}
{"amount":1000,"level":"info","message":"Initiating STK Push:","phoneNumber":"254112395869","reference":"ORDER1234","service":"mpesa-api","timestamp":"2025-04-28 22:28:39"}
{"level":"warn","message":"Not found - /api/mpesa/stk-push","method":"POST","path":"/api/mpesa/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:29:18"}
{"level":"warn","message":"Not found - /api/mpesa/stk-push","method":"POST","path":"/api/mpesa/stk-push","service":"mpesa-api","statusCode":404,"timestamp":"2025-04-28 22:29:20"}
{"accountReference":"TEST123","amount":1,"level":"info","message":"STK Push request received","phoneNumber":"0112395869","service":"mpesa-api","timestamp":"2025-04-28 22:31:03"}
{"level":"info","message":"Getting M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 22:31:03"}
{"level":"info","message":"Successfully obtained M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 22:31:04"}
{"amount":1,"level":"info","message":"Initiating STK Push:","phoneNumber":"254112395869","reference":"TEST123","service":"mpesa-api","timestamp":"2025-04-28 22:31:04"}
{"amount":100,"commandID":"BusinessPayment","level":"info","message":"B2C payment request received","phoneNumber":"0112395869","service":"mpesa-api","timestamp":"2025-04-28 22:32:31"}
{"level":"info","message":"Getting M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 22:32:31"}
{"level":"info","message":"Successfully obtained M-Pesa access token","service":"mpesa-api","timestamp":"2025-04-28 22:32:32"}
{"amount":100,"level":"info","message":"Sending B2C payment:","phoneNumber":"254112395869","service":"mpesa-api","timestamp":"2025-04-28 22:32:32","transactionID":"B2C1745868752244506"}
{"level":"info","message":"MongoDB Connected: ac-8idzin6-shard-00-02.vk6hawu.mongodb.net","service":"mpesa-api","timestamp":"2025-04-28 22:36:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"mpesa-api","timestamp":"2025-04-28 22:36:48"}
