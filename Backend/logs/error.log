{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-27 12:09:23"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-27 12:19:35"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:34:49"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:35:03"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:18"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:19"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:23"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:27"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:51:03"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 12:52:20","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 12:52:20"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 12:52:20"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 12:52:20"}
