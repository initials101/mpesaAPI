{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-27 12:09:23"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-27 12:19:35"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:34:49"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:35:03"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:18"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:19"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:23"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:43:27"}
{"error":{"statusCode":500},"level":"error","message":"Cannot set property query of #<IncomingMessage> which has only a getter","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/gray/projects/mpesaAPI/Backend/middleware/validator.js:40:15\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/gray/projects/mpesaAPI/Backend/node_modules/router/lib/layer.js:152:17)\n    at /home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:295:15\n    at processParams (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:582:12)\n    at next (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/gray/projects/mpesaAPI/Backend/node_modules/router/index.js:186:3)","timestamp":"2025-04-27 12:51:03"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 12:52:20","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 12:52:20"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 12:52:20"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 12:52:20"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:14:31","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:14:31"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:14:31"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:131:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:14:31"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:14:51","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:14:51"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:14:51"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:14:51"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:22:09","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:22:09"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:22:09"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:22:09"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:22:14","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:22:14"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:22:14"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:22:14"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-27 13:22:53","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-27 13:22:53"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-27 13:22:53"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-27 13:22:53"}
{"data":"","level":"error","message":"Request failed with status code 400","service":"mpesa-api","status":400,"timestamp":"2025-04-28 19:26:10","url":"/oauth/v1/generate?grant_type=client_credentials"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"4","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Failed to get access token:","service":"mpesa-api","timestamp":"2025-04-28 19:26:10"}
{"0":"F","1":"a","10":"a","11":"u","12":"t","13":"h","14":"e","15":"n","16":"t","17":"i","18":"c","19":"a","2":"i","20":"t","21":"e","22":" ","23":"w","24":"i","25":"t","26":"h","27":" ","28":"M","29":"-","3":"l","30":"P","31":"e","32":"s","33":"a","34":" ","35":"A","36":"P","37":"I","4":"e","5":"d","6":" ","7":"t","8":"o","9":" ","level":"error","message":"STK Push failed:","service":"mpesa-api","timestamp":"2025-04-28 19:26:10"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:135:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-28 19:26:10"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-28 19:34:45"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-28 19:35:20"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-28 19:36:35"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"mpesa-api","timestamp":"2025-04-28 19:38:33"}
{"level":"error","message":"Username and password are required for Basic Auth","service":"mpesa-api","timestamp":"2025-04-28 19:47:42"}
{"level":"error","message":"Failed to authenticate with M-Pesa API","service":"mpesa-api","timestamp":"2025-04-28 19:47:42"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:161:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-28 19:47:42"}
{"level":"error","message":"Username and password are required for Basic Auth","service":"mpesa-api","timestamp":"2025-04-28 19:47:43"}
{"level":"error","message":"Failed to authenticate with M-Pesa API","service":"mpesa-api","timestamp":"2025-04-28 19:47:43"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:161:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-28 19:47:43"}
{"level":"error","message":"Username and password are required for Basic Auth","service":"mpesa-api","timestamp":"2025-04-28 19:47:44"}
{"level":"error","message":"Failed to authenticate with M-Pesa API","service":"mpesa-api","timestamp":"2025-04-28 19:47:44"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Failed to authenticate with M-Pesa API","method":"POST","path":"/api/v1/mpesa/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Failed to authenticate with M-Pesa API\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:161:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-28 19:47:44"}
{"level":"error","message":"Error connecting to MongoDB: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","service":"mpesa-api","timestamp":"2025-04-29 19:40:41"}
{"data":"","level":"error","message":"Request failed with status code 404","service":"mpesa-api","status":404,"timestamp":"2025-04-29 20:04:56","url":"/payments/stkpush/v1/processrequest"}
{"level":"error","message":"Request failed with status code 404","response":"","service":"mpesa-api","status":404,"timestamp":"2025-04-29 20:04:56"}
{"error":{"statusCode":500},"level":"error","message":"Failed to initiate STK Push: Request failed with status code 404","method":"POST","path":"/api/v1/payments/stk-push","service":"mpesa-api","stack":"Error: Failed to initiate STK Push: Request failed with status code 404\n    at MpesaService.initiateSTKPush (file:///home/gray/projects/mpesaAPI/Backend/services/mpesa.service.js:161:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///home/gray/projects/mpesaAPI/Backend/controllers/mpesa.controller.js:24:20","timestamp":"2025-04-29 20:04:56"}
{"0":"f","1":"i","10":"(","11":".","12":".","13":".","14":")","15":".","16":"s","17":"e","18":"l","19":"e","2":"n","20":"c","21":"t","22":"(","23":".","24":".","25":".","26":")","27":".","28":"e","29":"q","3":"e","30":"(","31":".","32":".","33":".","34":")","35":".","36":"e","37":"q","38":" ","39":"i","4":".","40":"s","41":" ","42":"n","43":"o","44":"t","45":" ","46":"a","47":" ","48":"f","49":"u","5":"t","50":"n","51":"c","52":"t","53":"i","54":"o","55":"n","6":"a","7":"b","8":"l","9":"e","level":"error","message":"Error handling transaction timeout for ws_CO_29042025213558433112398869:","service":"mpesa-api","timestamp":"2025-04-29 21:36:06"}
{"0":"f","1":"i","10":"(","11":".","12":".","13":".","14":")","15":".","16":"s","17":"e","18":"l","19":"e","2":"n","20":"c","21":"t","22":"(","23":".","24":".","25":".","26":")","27":".","28":"e","29":"q","3":"e","30":"(","31":".","32":".","33":".","34":")","35":".","36":"e","37":"q","38":" ","39":"i","4":".","40":"s","41":" ","42":"n","43":"o","44":"t","45":" ","46":"a","47":" ","48":"f","49":"u","5":"t","50":"n","51":"c","52":"t","53":"i","54":"o","55":"n","6":"a","7":"b","8":"l","9":"e","level":"error","message":"Error handling transaction timeout for ws_CO_29042025213508606112395869:","service":"mpesa-api","timestamp":"2025-04-29 21:37:11"}
{"0":"f","1":"i","10":"(","11":".","12":".","13":".","14":")","15":".","16":"s","17":"e","18":"l","19":"e","2":"n","20":"c","21":"t","22":"(","23":".","24":".","25":".","26":")","27":".","28":"e","29":"q","3":"e","30":"(","31":".","32":".","33":".","34":")","35":".","36":"e","37":"q","38":" ","39":"i","4":".","40":"s","41":" ","42":"n","43":"o","44":"t","45":" ","46":"a","47":" ","48":"f","49":"u","5":"t","50":"n","51":"c","52":"t","53":"i","54":"o","55":"n","6":"a","7":"b","8":"l","9":"e","level":"error","message":"Error handling transaction timeout for ws_CO_29042025213907047112395869:","service":"mpesa-api","timestamp":"2025-04-29 21:41:09"}
{"0":"f","1":"i","10":"(","11":".","12":".","13":".","14":")","15":".","16":"s","17":"e","18":"l","19":"e","2":"n","20":"c","21":"t","22":"(","23":".","24":".","25":".","26":")","27":".","28":"e","29":"q","3":"e","30":"(","31":".","32":".","33":".","34":")","35":".","36":"e","37":"q","38":" ","39":"i","4":".","40":"s","41":" ","42":"n","43":"o","44":"t","45":" ","46":"a","47":" ","48":"f","49":"u","5":"t","50":"n","51":"c","52":"t","53":"i","54":"o","55":"n","6":"a","7":"b","8":"l","9":"e","level":"error","message":"Error handling transaction timeout for ws_CO_29042025215533070112395869:","service":"mpesa-api","timestamp":"2025-04-29 21:55:41"}
{"data":{"errorCode":"500.001.1001","errorMessage":"The transaction is being processed","requestId":"ws_CO_29042025220714039112395869"},"level":"error","message":"Request failed with status code 500","service":"mpesa-api","status":500,"timestamp":"2025-04-29 22:05:28","url":"/mpesa/stkpushquery/v1/query"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error querying STK status for ws_CO_29042025220714039112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:05:28"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error polling STK status for ws_CO_29042025220714039112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:05:28"}
{"data":{"errorCode":"500.001.1001","errorMessage":"The transaction is being processed","requestId":"ws_CO_29042025220714039112395869"},"level":"error","message":"Request failed with status code 500","service":"mpesa-api","status":500,"timestamp":"2025-04-29 22:05:32","url":"/mpesa/stkpushquery/v1/query"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error querying STK status for ws_CO_29042025220714039112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:05:32"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error polling STK status for ws_CO_29042025220714039112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:05:32"}
{"0":"f","1":"i","10":"(","11":".","12":".","13":".","14":")","15":".","16":"s","17":"e","18":"l","19":"e","2":"n","20":"c","21":"t","22":"(","23":".","24":".","25":".","26":")","27":".","28":"e","29":"q","3":"e","30":"(","31":".","32":".","33":".","34":")","35":".","36":"e","37":"q","38":" ","39":"i","4":".","40":"s","41":" ","42":"n","43":"o","44":"t","45":" ","46":"a","47":" ","48":"f","49":"u","5":"t","50":"n","51":"c","52":"t","53":"i","54":"o","55":"n","6":"a","7":"b","8":"l","9":"e","level":"error","message":"Error handling transaction timeout for ws_CO_29042025220714039112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:07:21"}
{"data":{"errorCode":"500.001.1001","errorMessage":"The transaction is being processed","requestId":"ws_CO_29042025220921929112395869"},"level":"error","message":"Request failed with status code 500","service":"mpesa-api","status":500,"timestamp":"2025-04-29 22:07:36","url":"/mpesa/stkpushquery/v1/query"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error querying STK status for ws_CO_29042025220921929112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:07:36"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error polling STK status for ws_CO_29042025220921929112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:07:36"}
{"data":{"errorCode":"500.001.1001","errorMessage":"The transaction is being processed","requestId":"ws_CO_29042025220921929112395869"},"level":"error","message":"Request failed with status code 500","service":"mpesa-api","status":500,"timestamp":"2025-04-29 22:07:41","url":"/mpesa/stkpushquery/v1/query"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error querying STK status for ws_CO_29042025220921929112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:07:41"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error polling STK status for ws_CO_29042025220921929112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:07:41"}
{"data":{"errorCode":"500.001.1001","errorMessage":"The transaction is being processed","requestId":"ws_CO_29042025221004787112395869"},"level":"error","message":"Request failed with status code 500","service":"mpesa-api","status":500,"timestamp":"2025-04-29 22:08:19","url":"/mpesa/stkpushquery/v1/query"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error querying STK status for ws_CO_29042025221004787112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:08:19"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error polling STK status for ws_CO_29042025221004787112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:08:19"}
{"data":{"errorCode":"500.001.1001","errorMessage":"The transaction is being processed","requestId":"ws_CO_29042025221004787112395869"},"level":"error","message":"Request failed with status code 500","service":"mpesa-api","status":500,"timestamp":"2025-04-29 22:08:24","url":"/mpesa/stkpushquery/v1/query"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error querying STK status for ws_CO_29042025221004787112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:08:24"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error polling STK status for ws_CO_29042025221004787112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:08:24"}
{"data":{"errorCode":"500.001.1001","errorMessage":"The transaction is being processed","requestId":"ws_CO_29042025221004787112395869"},"level":"error","message":"Request failed with status code 500","service":"mpesa-api","status":500,"timestamp":"2025-04-29 22:08:28","url":"/mpesa/stkpushquery/v1/query"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error querying STK status for ws_CO_29042025221004787112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:08:28"}
{"0":"R","1":"e","10":"i","11":"l","12":"e","13":"d","14":" ","15":"w","16":"i","17":"t","18":"h","19":" ","2":"q","20":"s","21":"t","22":"a","23":"t","24":"u","25":"s","26":" ","27":"c","28":"o","29":"d","3":"u","30":"e","31":" ","32":"5","33":"0","34":"0","4":"e","5":"s","6":"t","7":" ","8":"f","9":"a","level":"error","message":"Error polling STK status for ws_CO_29042025221004787112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:08:28"}
{"0":"f","1":"i","10":"(","11":".","12":".","13":".","14":")","15":".","16":"s","17":"e","18":"l","19":"e","2":"n","20":"c","21":"t","22":"(","23":".","24":".","25":".","26":")","27":".","28":"e","29":"q","3":"e","30":"(","31":".","32":".","33":".","34":")","35":".","36":"e","37":"q","38":" ","39":"i","4":".","40":"s","41":" ","42":"n","43":"o","44":"t","45":" ","46":"a","47":" ","48":"f","49":"u","5":"t","50":"n","51":"c","52":"t","53":"i","54":"o","55":"n","6":"a","7":"b","8":"l","9":"e","level":"error","message":"Error handling transaction timeout for ws_CO_29042025220921929112395869:","service":"mpesa-api","timestamp":"2025-04-29 22:09:30"}
